@import 'common.styl'

@import url('https://fonts.googleapis.com/css?family=Titillium+Web:600')

$sentBgColor = #efefef
$sentFgColor = #000
$receivedBgColor = $blue
$receivedFgColor = #fff
$sendingBgColor = #005fb1
$sendingFgColor = $receivedFgColor
$sendingInactiveBgColor = #004886

$bubbleRadius = .8em
$bubbleMiniRadius = .2em

bubble()
  border-radius: $bubbleRadius
  padding: 1.3em 1.2em
  clear: both
  font-family: 'Titillium Web', $sans-serif
  font-size: 1.15em

  & > *
    padding: 0
    margin: 0

p, h1, h2, h3, h4, h5, h6
  text-align: justify
  font-weight: 400

section
  width: 100%
  margin: 0
  min-height: 30vh
  text-align: center
  display: block
  overflow: hidden

  & > *
    max-width: 1400px
    display: inline-block

/////////////////////////////////////////////////////////////////////////////////////////
// HEADER ///////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////

section.header
  background: linear-gradient(#000, $navy)
  background-position: bottom
  background-repeat: no-repeat
  background-color: #000
  background-size: 400vmax
  min-height: 100vh

  #top
    position: absolute
    bottom: 100vh

  .nojs
    padding: 10vh 0

    & > *
      display: inline-block
      vertical-align: middle
      max-width: 50%

    img
      z-index: 3
    .error
      display: inline-block
      color: white
      font-size: 1.2em

  .conversation
    center(900px)

    width: 100%
    margin-top: 3em

    #suggestions
      clear: both
      float: right
      padding-left: 0
      padding-top: .5em

      li
        color: $sendingFgColor
        background: $sendingBgColor
        display: inline
        list-style: none
        cursor: pointer
        margin-left: .3em

        bubble()
        border-radius: $bubbleMiniRadius

        &:first-of-type
          border-bottom-left-radius: $bubbleRadius
          border-top-left-radius: $bubbleRadius
          margin-left: 1em
        &:last-of-type
          border-bottom-right-radius: 0
          border-top-right-radius: $bubbleRadius


    #userinput
      float: right
      margin: 1.2em 0

      #message, #send
        border: none
        padding: 0 .8em
        font: 1em lighter
        font-family: 'Segoe UI', sans-serif
        vertical-align: middle

      #message
        width: 14em
        background: $sendingInactiveBgColor
        color: $sendingFgColor

        outline: none
        transition: background .5s ease

        &:focus
          background: $sendingBgColor

        bubble()

        height: auto
        line-height: normal
        border-bottom-right-radius: 0

        +placeholder()
          color: $white
          opacity: .9

      #send
        font-weight: bold
        background: $pink
        color: white
        margin-left: .3em
        opacity: .9
        transition: opacity .2s ease
        display: none

        &:disabled
          opacity: .5

        &:not(:disabled):hover, &:not(:disabled):focus
          opacity: 1

    #messages
      overflow-y: auto
      overflow-x: hidden

      div
        display: inline-block
        margin-bottom: .8em
        animation: fade-in .4s ease-in
        max-width: 55%
        word-wrap: break-word

        @keyframes fade-in
          from
            opacity: 0
          to
            opacity: 1

          p
            margin: 0
            padding: .8em
            max-width: 50%
            text-align: justify

          &:before, &:after
            width: 0
            height: 0
            position: absolute
            display: block

      .received
        margin-left: .5em
        color: $sentFgColor
        background: $sentBgColor
        float: left
        text-align: justify
        box-shadow: 0 8px 10px -5px rgba(200, 200, 200, .35)

        bubble()
        border-top-left-radius: 0

        &:first-of-type
          margin-top: 1em

      .sent
        margin-left: -1em
        color: $receivedFgColor
        background: $receivedBgColor
        float: right
        text-align: right
        box-shadow: 0 8px 10px -5px rgba(0, 50, 232, .35)

        bubble()
        border-top-right-radius: 0

        .loading
          opacity: .8

/////////////////////////////////////////////////////////////////////////////////////////
// BLOG /////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////

section.blog
  min-height: 10vh

  .card-wrapper
    width: 100%
    text-align: left
    padding: .4em 1em

  .meta
    span
      color: black

      &.bullet
        color: grey
        margin: 0 .5em
        font-family: sans-serif

  .content
    width: 100%
    overflow: hidden
    color: #555
    margin-top: -2em
    position: relative
    padding: 0 2em

    & > *
      margin: 0

    .shadow
      position: absolute
      width: 100%
      box-shadow: inset -20px -12px 20px 5px white

      +landscape()
        height: 30vh
      +portrait()
        height: 50vh

    +landscape()
      max-height: 30vh
    +portrait()
      max-height: 50vh

  h4
    text-align: right
    font-size: 1.3em
    font-weight: 600
    font-family: 'Segoe UI'
    margin: .9em 0

    a
      opacity: .7
      text-decoration: none
      transition: all .3s ease-in-out

      .arrow
        transition: all .3s ease-in-out
        vertical-align: sub
        margin-left: 10px
        margin-bottom: -1px

        & polyline
          fill: none
          stroke: #000
          stroke-width: 2px

      &:hover
        opacity: .9

      &:hover .arrow
        margin-left: 20px

/////////////////////////////////////////////////////////////////////////////////////////
// PROJECTS /////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////

section.projects
  min-height: 80vh
  background: $lime
  position: relative

  .dash
    display: block
    position: absolute
    max-width: none
    width: 100%
    max-height: none
    height: 100%

    polyline
      stroke: white
      stroke-width: 1px

  & > div
    width: 100%
    max-width: none

    +landscape()
      min-height: 30vh
    +portrait()
      min-height: 50vh


/////////////////////////////////////////////////////////////////////////////////////////
// FOOTER ///////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////

section.footer
    background: black
    color: white
    min-height: 10vh
    font-family: 'Lato', $sans-serif

    @media (max-width: 1000px)
        font-size: 1.5em

    .logo
      max-width: 48px
      margin-top: 1.8em
      margin-bottom: 1.2em
      margin-left: 1.2em
      margin-right: 1.2em

    .icon
        box-sizing: content-box
        transition: transform .4s ease, opacity .4s ease
        max-width: 48px
        width: 24px
        padding: .5em
        margin: 1em .5em
        opacity: .95

        &:hover
            transform: scale(1.2)
            opacity: 1
